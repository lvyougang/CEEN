
import pickle as pk
dic={}
dic[0]=[0,0,0]
dic[1]=[0,0,0]
dic[2]=[0,0,0]
dic[3]=[0,0,1]
dic[4]=[0,0,1]
dic[5]=[1,0,0]
dic[6]=[2,0,0]
dic[7]=[3,0,0]
dic[8]=[4,0,0]
dic[9]=[4,0,0]
dic[10]=[5,0,1]
dic[11]=[6,0,1]
dic[12]=[6,0,1]
dic[13]=[0,0,0]
dic[14]=[5,0,0]
dic[15]=[7,0,0]
dic[16]=[8,0,0]
dic[17]=[9,0,0]
dic[18]=[9,0,0]
dic[19]=[10,0,0]
dic[20]=[11,1,0]
dic[21]=[11,0,0]
dic[22]=[12,0,0]
dic[23]=[12,0,0]
dic[24]=[13,0,0]
dic[25]=[14,0,0]
dic[26]=[15,2,0]
dic[27]=[16,0,0]
dic[28]=[17,0,0]
dic[29]=[13,0,0]
dic[30]=[15,0,0]
dic[31]=[14,0,0]
dic[32]=[17,0,0]
dic[33]=[18,3,0]
dic[34]=[19,0,0]
dic[35]=[14,0,0]
dic[36]=[14,0,0]
dic[37]=[19,0,0]
dic[38]=[20,0,0]
dic[39]=[20,0,0]
dic[40]=[21,0,0]
dic[41]=[22,0,0]
dic[42]=[23,0,0]
dic[43]=[22,0,0]
dic[44]=[22,0,0]
dic[45]=[24,0,0]
dic[46]=[22,0,0]
dic[47]=[25,0,0]
dic[48]=[25,0,1]
dic[49]=[26,0,0]
dic[50]=[26,0,1]
dic[51]=[27,4,0]
dic[52]=[28,0,0]
dic[53]=[29,0,0]
dic[54]=[30,0,0]
dic[55]=[30,0,0]
dic[56]=[31,0,0]
dic[57]=[32,0,0]
dic[58]=[33,0,0]
dic[59]=[34,0,0]
dic[60]=[35,0,0]
dic[61]=[35,0,0]
dic[62]=[36,0,0]
dic[63]=[70,0,0]
dic[64]=[37,0,0]
dic[65]=[37,0,0]
dic[66]=[37,0,0]
dic[67]=[38,1,0]
dic[68]=[38,1,0]
dic[69]=[70,0,0]
dic[70]=[37,0,0]
dic[71]=[37,0,0]
dic[72]=[39,0,0]
dic[73]=[40,0,0]
dic[74]=[41,0,0]
dic[75]=[42,0,0]
dic[76]=[43,0,0]
dic[77]=[44,0,0]
dic[78]=[45,0,0]
dic[79]=[46,0,0]
dic[80]=[46,0,0]
dic[81]=[46,0,0]
dic[82]=[46,0,0]
dic[83]=[47,0,0]
dic[84]=[46,0,0]
dic[85]=[47,0,0]
dic[86]=[48,0,0]
dic[87]=[49,0,0]
dic[88]=[50,0,0]
dic[89]=[51,0,0]
dic[90]=[49,0,0]
dic[91]=[52,0,0]
dic[92]=[71,0,0]
dic[93]=[72,0,0]
dic[94]=[55,0,0]
dic[95]=[56,0,0]
dic[96]=[57,0,0]
dic[97]=[58,0,0]
dic[98]=[59,0,0]
dic[99]=[60,0,0]
dic[100]=[61,0,0]
dic[101]=[61,0,0]
dic[102]=[62,0,0]
dic[103]=[59,0,0]
dic[104]=[63,0,0]
dic[105]=[64,0,0]
dic[106]=[64,0,0]
dic[107]=[64,0,0]
dic[108]=[65,0,0]
dic[109]=[66,0,0]
dic[110]=[67,0,0]
dic[111]=[73,5,0]
dic[112]=[73,5,0]
dic[113]=[74,0,0]
dic[114]=[69,0,0]
dic[115]=[74,6,0]
dic[116]=[69,5,0]
dic[117]=[69,5,1]
dic[118]=[69,5,0]
dic2=dic
law2keguan=[(0, 0), (1, 1), (2, 2), (3, 3), (4, 4), (5, 5), (6, 6), (7, 7), (8, 8), (9, 9), (10, 10), (11, 6), (12, 11), (13, 9), (14, 9), (15, 12), (16, 13), (17, 14), (18, 15), (19, 16), (20, 17), (21, 18), (22, 7), (23, 9), (24, 19), (25, 20), (26, 21), (27, 9), (28, 22), (29, 7), (30, 18), (31, 19), (32, 9), (33, 23), (34, 24), (35, 25), (36, 26), (37, 27), (38, 28), (39, 4), (40, 29), (41, 28), (42, 19), (43, 30), (44, 7), (45, 31), (46, 9), (47, 32), (48, 33), (49, 34), (50, 9), (51, 7), (52, 9), (53, 35), (54, 4), (55, 9), (56, 7), (57, 36), (58, 37), (59, 38), (60, 4), (61, 39), (62, 40), (63, 41), (64, 35), (65, 9), (66, 42), (67, 31), (68, 6), (69, 9), (70, 9), (71, 43), (72, 44), (73, 9), (74, 9), (75, 13), (76, 4), (77, 45), (78, 46), (79, 47), (80, 48), (81, 49), (82, 50), (83, 51), (84, 52), (85, 7), (86, 53), (87, 54), (88, 7), (89, 7), (90, 55), (91, 56), (92, 57), (93, 7), (94, 52), (95, 58), (96, 9), (97, 59), (98, 7), (99, 60), (100, 61), (101, 62), (102, 52)]

dataset=['train','valid','test']
for tmp in dataset:
    f_train = pk.load(open(tmp+'_processed_thulac_Legal_basis.pkl', 'rb'))
    fact_train = f_train['fact_list']
    law_labels_train = f_train['law_label_lists']
    accu_label_train = f_train['accu_label_lists']
    term_train = f_train['term_lists']
    keti=[]
    zhuti=[]
    zhuguan=[]
    keguan=[]
    for i in range(len(accu_label_train)):
        j=accu_label_train[i]
        keti.append(dic2[j][0])
        zhuti.append(dic2[j][1])
        zhuguan.append(dic2[j][2])
        keguan.append(law2keguan[law_labels_train[i]][1])
    f_train['keti']=keti
    f_train['zhuti']=zhuti
    f_train['zhuguan']=zhuguan
    f_train['keguan']=keguan
    with open(tmp+'_criminal_element4.pkl', 'wb') as fid:
        pk.dump(f_train, fid)

