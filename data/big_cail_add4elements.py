
import pickle as pk
dic={}
dic[0]=[0,0,0]
dic[1]=[0,0,0]
dic[2]=[0,0,0]
dic[3]=[0,0,1]
dic[4]=[0,0,1]
dic[5]=[1,0,0]
dic[6]=[2,0,0]
dic[7]=[3,0,0]
dic[8]=[4,0,0]
dic[9]=[4,0,0]
dic[10]=[5,0,1]
dic[11]=[6,0,1]
dic[12]=[6,0,1]
dic[13]=[0,0,0]
dic[14]=[5,0,0]
dic[15]=[7,0,0]
dic[16]=[8,0,0]
dic[17]=[9,0,0]
dic[18]=[9,0,0]
dic[19]=[10,0,0]
dic[20]=[10,0,0]
dic[21]=[71,0,0]
dic[22]=[11,1,0]
dic[23]=[11,0,0]
dic[24]=[12,0,0]
dic[25]=[12,0,0]
dic[26]=[13,0,0]
dic[27]=[14,0,0]
dic[28]=[15,2,0]
dic[29]=[16,0,0]
dic[30]=[17,0,0]
dic[31]=[13,0,0]
dic[32]=[15,0,0]
dic[33]=[14,0,0]
dic[34]=[17,0,0]
dic[35]=[18,3,0]
dic[36]=[19,0,0]
dic[37]=[14,0,0]
dic[38]=[14,0,0]
dic[39]=[19,0,0]
dic[40]=[20,0,0]
dic[41]=[20,0,0]
dic[42]=[21,0,0]
dic[43]=[22,0,0]
dic[44]=[23,0,0]
dic[45]=[22,0,0]
dic[46]=[22,0,0]
dic[47]=[24,0,0]
dic[48]=[22,0,0]
dic[49]=[25,0,0]
dic[50]=[25,0,1]
dic[51]=[26,0,0]
dic[52]=[26,0,1]
dic[53]=[27,4,0]
dic[54]=[28,0,0]
dic[55]=[29,0,0]
dic[56]=[30,0,0]
dic[57]=[30,0,0]
dic[58]=[31,0,0]
dic[59]=[32,0,0]
dic[60]=[33,0,0]
dic[61]=[34,0,0]
dic[62]=[35,0,0]
dic[63]=[35,0,0]
dic[64]=[36,0,0]
dic[65]=[75,0,0]
dic[66]=[37,0,0]
dic[67]=[37,0,0]
dic[68]=[37,0,0]
dic[69]=[38,0,0]
dic[70]=[38,1,0]
dic[71]=[38,1,0]
dic[72]=[75,0,0]
dic[73]=[37,0,0]
dic[74]=[37,0,0]
dic[75]=[39,0,0]
dic[76]=[40,0,0]
dic[77]=[41,0,0]
dic[78]=[42,0,0]
dic[79]=[43,0,0]
dic[80]=[44,0,0]
dic[81]=[45,0,0]
dic[82]=[46,0,0]
dic[83]=[46,0,0]
dic[84]=[46,0,0]
dic[85]=[46,0,0]
dic[86]=[47,0,0]
dic[87]=[46,0,0]
dic[88]=[47,0,0]
dic[89]=[48,0,0]
dic[90]=[48,7,0]
dic[91]=[49,0,0]
dic[92]=[50,0,0]
dic[93]=[51,0,0]
dic[94]=[72,8,0]
dic[95]=[49,0,0]
dic[96]=[52,0,0]
dic[97]=[53,0,0]
dic[98]=[54,0,0]
dic[99]=[55,0,0]
dic[100]=[56,0,0]
dic[101]=[57,0,0]
dic[102]=[58,0,0]
dic[103]=[59,0,0]
dic[104]=[60,0,0]
dic[105]=[61,0,0]
dic[106]=[61,0,0]
dic[107]=[62,0,0]
dic[108]=[59,0,0]
dic[109]=[63,0,0]
dic[110]=[64,0,0]
dic[111]=[64,0,0]
dic[112]=[64,0,0]
dic[113]=[65,0,0]
dic[114]=[73,0,0]
dic[115]=[66,0,0]
dic[116]=[67,0,0]
dic[117]=[70,5,0]
dic[118]=[70,5,0]
dic[119]=[68,5,0]
dic[120]=[68,6,0]
dic[121]=[68,0,0]
dic[122]=[69,0,0]
dic[123]=[69,0,0]
dic[124]=[68,6,0]
dic[125]=[69,5,0]
dic[126]=[69,5,1]
dic[127]=[41,9,0]
dic[128]=[74,10,0]
dic[129]=[69,9,0]
dic2=dic
dataset=['train','valid','test']
law2keguan = [(0, 0), (1, 1), (2, 2), (3, 3), (4, 4), (5, 5), (6, 6), (7, 7), (8, 8), (9, 9), (10, 10), (11, 11), (12, 12),
     (13, 8), (14, 13), (15, 11), (16, 11), (17, 14), (18, 15), (19, 16), (20, 17), (21, 18), (22, 19), (23, 20),
     (24, 9), (25, 11), (26, 21), (27, 22), (28, 23), (29, 24), (30, 11), (31, 25), (32, 9), (33, 20), (34, 21),
     (35, 11), (36, 26), (37, 27), (38, 28), (39, 29), (40, 30), (41, 4), (42, 6), (43, 31), (44, 4), (45, 21),
     (46, 32), (47, 9), (48, 33), (49, 11), (50, 34), (51, 35), (52, 36), (53, 11), (54, 9), (55, 37), (56, 11),
     (57, 38), (58, 6), (59, 11), (60, 9), (61, 9), (62, 39), (63, 40), (64, 6), (65, 41), (66, 6), (67, 42), (68, 43),
     (69, 37), (70, 44), (71, 38), (72, 45), (73, 11), (74, 46), (75, 47), (76, 33), (77, 8), (78, 11), (79, 11),
     (80, 48), (81, 9), (82, 49), (83, 11), (84, 11), (85, 15), (86, 6), (87, 50), (88, 51), (89, 52), (90, 53),
     (91, 54), (92, 55), (93, 9), (94, 56), (95, 57), (96, 9), (97, 58), (98, 59), (99, 60), (100, 9), (101, 61),
     (102, 9), (103, 62), (104, 9), (105, 63), (106, 64), (107, 65), (108, 9), (109, 57), (110, 66), (111, 11),
     (112, 67), (113, 9), (114, 68), (115, 69), (116, 70), (117, 57)]

for tmp in dataset:
    f_train = pk.load(open(tmp+'_processed_thulac_Legal_basis_large.pkl', 'rb'))
    fact_train = f_train['fact_list']
    law_labels_train = f_train['law_label_lists']
    accu_label_train = f_train['accu_label_lists']
    term_train = f_train['term_lists']
    keti=[]
    zhuti=[]
    zhuguan=[]
    keguan = []
    for i in range(len(accu_label_train)):
        j=accu_label_train[i]
        keti.append(dic2[j][0])
        zhuti.append(dic2[j][1])
        zhuguan.append(dic2[j][2])
        keguan.append(law2keguan[law_labels_train[i]][1])
    f_train['keti']=keti
    f_train['zhuti']=zhuti
    f_train['zhuguan']=zhuguan
    f_train['keguan']=keguan
    with open(tmp+'_criminal_element4_large.pkl', 'wb') as fid:
        pk.dump(f_train, fid)
